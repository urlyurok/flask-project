{% extends 'index.html' %}

{% block title %}Создание продукта{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2>Создание нового продукта</h2>

    <!-- Выводим сообщения об успехе или ошибке -->
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <div class="alert alert-{{ messages[0][0] }} alert-dismissible fade show" role="alert">
        {{ messages[0][1] }}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    {% endif %}
    {% endwith %}

    <form method="POST">
        {{ form.hidden_tag() }}

        <div class="form-group">
            <label for="name">Название продукта</label>
            {{ form.name(class="form-control", placeholder="Введите название продукта") }}
        </div>

        <div class="form-group">
            <label for="price">Цена</label>
            {{ form.price(class="form-control", placeholder="Введите цену продукта") }}
        </div>

        <div class="form-group">
            <label for="quantity">Количество</label>
            {{ form.quantity(class="form-control", placeholder="Введите количество товара") }}
        </div>

        <div class="form-group">
            <label for="category_id">Категория</label>
            {{ form.category_id(class="form-control") }}
        </div>

        <button type="submit" class="btn btn-primary">Создать продукт</button>
    </form>

    <hr>
    <div class="mt-3">
        <a href="{{ url_for('main.products') }}" class="btn btn-secondary">Назад к продуктам</a>
        <a href="{{ url_for('main.categories') }}" class="btn btn-secondary">Управление категориями</a>
    </div>
</div>
{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
{% endblock %}